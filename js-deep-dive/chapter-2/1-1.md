---
description: 변수에 대해 알아봅시다.
---

# 변수란 왜 필요할까?
`10 + 20` 이란 식의 값은 30이다. 컴퓨터는 이 식에서 30이란 값을 생성하기 위해 각 피연산자를 **기억**하고 **참조**해 연산한다. <br>
여기서 기억하는 곳이 **메모리 셀의 집함체인 메모리**이고 각 메모리 셀이 가지는 **고유한 메모리 주소**를 이용해 참조하는데, 이 메모리 공간(주소)에 이름을 준게 
**변수**이다. <br>

## 그럼 왜 이름을 줬을까? <br>
1. 메모리 주소에 직접 접근하지 못하도록 해놓아서.
2. 기억해두지 않으면 메모리에서 원하는 데이터를 찾을 수 없고, 이는 재사용을 못한다는 의미이기 때문에.

<br>

---
# 변수의 선언
변수를 사용하려면 반드시 **선언**을 해야한다. 자바스크립트에서는 `var`, `let`, `const` 키워드를 통해 변수를 선언할 수 있다. <br>
여기서 **선언**이란 자바스크립트 엔진이 변수의 존재을 알 수 있도록 하는 작업으로, 메모리 공간을 확보하고 메모리 주소를 변수와 바인딩하는 작업이라 할 수 있다.

<br>

> **식별자** <br>
어떤 값을 식별해서 구별할 수 있는 고유의 이름. 그렇기에 변수, 함수, 클래스 등의 이름은 모두 **식별자** 이다.

> **키워드** <br>
자바스크립트 엔진이 수행할 동작을 정한 명령어.

<br>

변수를 선언하면 메모리에 공간이 확보되고, 그 안에 `undefined` 값이 암묵적으로 할당된다. <br>
자바스크립트에서 변수 선언은 두가지 단계로 나뉘는데 <br>
- 선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 알리는 단계
- 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undefined`을 할당해 초기화하는 단계

> 이 중 선언 단계에서 변수 이름이 등록 되는 곳은 **실행 컨텍스트** 라는 곳인데 관련 챕터에서 자세히 알아보도록 합시다. <br>

만일 `var` 키워드로 변수를 선언하였다면 두 단계가 동시에 진행된다. 때문에 

> **초기화는 왜 하는걸까?** <br>
초기화를 통해 값을 할당해주지 않으면 이전에 다른 애플리케이션이 사용했던 값이 남아있을 수도 있다. <br>
이를 **garbage value(쓰레기 값)** 이라고 하는데 자바스크립트 엔진은 초기화 단계를 통하여 쓰레기 값이 사용될 위험을 없애준다.

변수를 사용하려면 무조건 선언을 해야한다. 만약 선언하지않고 변수를 사용하려면 `Reference Error(참조 에러)`가  발생하니 주의!

# 변수 선언의 실행 시점과 호이스팅
자바스크립트 엔진은 코드를 한 줄씩 실행하는 **런타임** 이전에 소스코드의 평가과정을 거치면서 소스코드 실행을 위한 준비를 한다. <br>
이 때 소스코드에 있는 모든 선언문을 찾아내 먼저 실행하는데 이 걸 **호이스팅**이라고 한다. <br>
때문에 다음 코드는 순서상 `Reference Error`가 발생할 것 같지만 그렇지 않다. <br>
```
console.log(score); // undefined

var score;
``` 

# 값의 할당
```
var score; // 선언
score = 80; // 할당

var score = 80; // 단축 표현
```
값을 할당할 땐 `=(할당 연산자)`를 사용한다. `=(할당 연산자)`는 우변의 값을 좌변에 할당한다. <br>

단축표현을 통해 하나의 문으로 사용할 수도 있는데 주의할 점은 선언과 할당은 앞서 말한 **호이스팅에 따라 실행 시점이 다르다는 것**이다. <br>
따라서 다음 코드의 선언은 런타임 이전에, 할당은 런타임에 된다.
```
console.log(score); // undefined

var score = 80;
```

> **값이 할당되는 방식** <br>
책을 보기전엔 값이 할당될 때 기존 메모리 주소에 접근해서 값을 덮어쓰는 줄 알았는데, 실제로는 값이 할당될 때마다 새로운 주소에 값을 저장한다고 한다. <br>
그럼 전에 사용되었던 메모리 셀은 어떻게 될까? <br>
그건 어딘가에서 한번 쯤은 들어봤을 **가비지 콜렉터**에 의해 해제된다. <br>
**가비지 콜렉터**는 주기적으로 사용되지 않는 메모리. 간단히 말해서 **어떤 식별자도 참조하지 않는** 메모리 공간을 찾아 해제하며 이를 통해 메모리 누수를 방지해준다. <br>
이처럼 개발자가 직접 메모리를 관리하는게 아니라 자동으로 메모리를 관리해주는 프로그래밍 언어를 **매니지드 언어**라고 하고 자바스크립트도 이 중 하나이다.


